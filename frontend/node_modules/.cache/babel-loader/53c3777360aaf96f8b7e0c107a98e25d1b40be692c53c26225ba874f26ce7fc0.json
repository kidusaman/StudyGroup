{"ast":null,"code":"// src/utils/groupMessagesByDate.js\nimport { format, isToday, parseISO } from 'date-fns';\nexport function groupMessagesByDate(messages) {\n  // Sort messages by created_at ascending (optional)\n  const sorted = [...messages].sort((a, b) => {\n    return new Date(a.created_at) - new Date(b.created_at);\n  });\n  const groups = [];\n  let currentDate = null;\n  let currentGroup = null;\n  sorted.forEach(msg => {\n    // Convert created_at to a Date object\n    const dateObj = parseISO(msg.created_at);\n\n    // Format date as \"MMM d, yyyy\" or \"Today\"\n    let dateLabel = format(dateObj, 'MMM d, yyyy');\n    if (isToday(dateObj)) {\n      dateLabel = 'Today';\n    }\n\n    // If this message’s date is different from currentDate, start a new group\n    if (dateLabel !== currentDate) {\n      currentDate = dateLabel;\n      currentGroup = {\n        date: dateLabel,\n        messages: []\n      };\n      groups.push(currentGroup);\n    }\n    currentGroup.messages.push(msg);\n  });\n  return groups;\n}","map":{"version":3,"names":["format","isToday","parseISO","groupMessagesByDate","messages","sorted","sort","a","b","Date","created_at","groups","currentDate","currentGroup","forEach","msg","dateObj","dateLabel","date","push"],"sources":["/Users/kidusamanuel/Desktop/school project/frontend/src/utils/groupMessagesByDate.js"],"sourcesContent":["// src/utils/groupMessagesByDate.js\nimport { format, isToday, parseISO } from 'date-fns';\n\nexport function groupMessagesByDate(messages) {\n  // Sort messages by created_at ascending (optional)\n  const sorted = [...messages].sort((a, b) => {\n    return new Date(a.created_at) - new Date(b.created_at);\n  });\n\n  const groups = [];\n  let currentDate = null;\n  let currentGroup = null;\n\n  sorted.forEach((msg) => {\n    // Convert created_at to a Date object\n    const dateObj = parseISO(msg.created_at);\n    \n    // Format date as \"MMM d, yyyy\" or \"Today\"\n    let dateLabel = format(dateObj, 'MMM d, yyyy');\n    if (isToday(dateObj)) {\n      dateLabel = 'Today';\n    }\n\n    // If this message’s date is different from currentDate, start a new group\n    if (dateLabel !== currentDate) {\n      currentDate = dateLabel;\n      currentGroup = {\n        date: dateLabel,\n        messages: []\n      };\n      groups.push(currentGroup);\n    }\n    currentGroup.messages.push(msg);\n  });\n\n  return groups;\n}\n"],"mappings":"AAAA;AACA,SAASA,MAAM,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,UAAU;AAEpD,OAAO,SAASC,mBAAmBA,CAACC,QAAQ,EAAE;EAC5C;EACA,MAAMC,MAAM,GAAG,CAAC,GAAGD,QAAQ,CAAC,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IAC1C,OAAO,IAAIC,IAAI,CAACF,CAAC,CAACG,UAAU,CAAC,GAAG,IAAID,IAAI,CAACD,CAAC,CAACE,UAAU,CAAC;EACxD,CAAC,CAAC;EAEF,MAAMC,MAAM,GAAG,EAAE;EACjB,IAAIC,WAAW,GAAG,IAAI;EACtB,IAAIC,YAAY,GAAG,IAAI;EAEvBR,MAAM,CAACS,OAAO,CAAEC,GAAG,IAAK;IACtB;IACA,MAAMC,OAAO,GAAGd,QAAQ,CAACa,GAAG,CAACL,UAAU,CAAC;;IAExC;IACA,IAAIO,SAAS,GAAGjB,MAAM,CAACgB,OAAO,EAAE,aAAa,CAAC;IAC9C,IAAIf,OAAO,CAACe,OAAO,CAAC,EAAE;MACpBC,SAAS,GAAG,OAAO;IACrB;;IAEA;IACA,IAAIA,SAAS,KAAKL,WAAW,EAAE;MAC7BA,WAAW,GAAGK,SAAS;MACvBJ,YAAY,GAAG;QACbK,IAAI,EAAED,SAAS;QACfb,QAAQ,EAAE;MACZ,CAAC;MACDO,MAAM,CAACQ,IAAI,CAACN,YAAY,CAAC;IAC3B;IACAA,YAAY,CAACT,QAAQ,CAACe,IAAI,CAACJ,GAAG,CAAC;EACjC,CAAC,CAAC;EAEF,OAAOJ,MAAM;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}