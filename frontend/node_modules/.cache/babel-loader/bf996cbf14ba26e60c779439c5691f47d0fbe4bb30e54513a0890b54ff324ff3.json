{"ast":null,"code":"var _jsxFileName = \"/Users/kidusamanuel/Desktop/school project/frontend/src/QuestionDetail.js\",\n  _s = $RefreshSig$();\n// src/QuestionDetail.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction QuestionDetail({\n  token\n}) {\n  _s();\n  const {\n    questionId\n  } = useParams();\n  const [question, setQuestion] = useState(null);\n  const [answers, setAnswers] = useState([]);\n  const [newAnswer, setNewAnswer] = useState('');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    // Fetch the question details\n    axios.get(`http://localhost:5001/api/questions/${questionId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => setQuestion(res.data)).catch(err => console.error(\"Error fetching question:\", err));\n\n    // Fetch the answers for this question\n    axios.get(`http://localhost:5001/api/answers/${questionId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => setAnswers(res.data)).catch(err => console.error(\"Error fetching answers:\", err));\n  }, [questionId, token]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!newAnswer.trim()) return;\n\n    // Post the new answer\n    try {\n      const res = await axios.post(`http://localhost:5001/api/answers`,\n      // Ensure you have this endpoint implemented\n      {\n        questionId,\n        answer: newAnswer\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      // Append the new answer to the list\n      setAnswers([...answers, res.data.answer]);\n      setNewAnswer('');\n    } catch (err) {\n      console.error(\"Error submitting answer:\", err);\n      setError(\"Failed to submit answer.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      marginTop: '20px'\n    },\n    children: [question ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: question.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: question.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), question.tags && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tags:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 32\n        }, this), \" \", question.tags.join(', ')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading question...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Answers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), answers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No answers yet. Be the first to answer!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this) : answers.map(ans => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px',\n        border: '1px solid #ccc',\n        marginBottom: '10px',\n        borderRadius: '5px',\n        background: '#f9f9f9'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: ans.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '0.8em',\n          color: '#555'\n        },\n        children: [\"By \", ans.username, \" on \", new Date(ans.created_at).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, ans.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Submit Your Answer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: newAnswer,\n        onChange: e => setNewAnswer(e.target.value),\n        placeholder: \"Type your answer here...\",\n        rows: \"5\",\n        style: {\n          width: '100%',\n          padding: '10px',\n          marginBottom: '10px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '10px 20px'\n        },\n        children: \"Submit Answer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(QuestionDetail, \"aSEJANQMABJpWiZzzF2dNNfgTZM=\", false, function () {\n  return [useParams];\n});\n_c = QuestionDetail;\nexport default QuestionDetail;\nvar _c;\n$RefreshReg$(_c, \"QuestionDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","jsxDEV","_jsxDEV","QuestionDetail","token","_s","questionId","question","setQuestion","answers","setAnswers","newAnswer","setNewAnswer","error","setError","get","headers","Authorization","then","res","data","catch","err","console","handleSubmit","e","preventDefault","trim","post","answer","className","style","marginTop","children","title","fileName","_jsxFileName","lineNumber","columnNumber","body","tags","join","length","map","ans","padding","border","marginBottom","borderRadius","background","fontSize","color","username","Date","created_at","toLocaleString","id","onSubmit","value","onChange","target","placeholder","rows","width","type","_c","$RefreshReg$"],"sources":["/Users/kidusamanuel/Desktop/school project/frontend/src/QuestionDetail.js"],"sourcesContent":["// src/QuestionDetail.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction QuestionDetail({ token }) {\n  const { questionId } = useParams();\n  const [question, setQuestion] = useState(null);\n  const [answers, setAnswers] = useState([]);\n  const [newAnswer, setNewAnswer] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    // Fetch the question details\n    axios.get(`http://localhost:5001/api/questions/${questionId}`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then((res) => setQuestion(res.data))\n      .catch((err) => console.error(\"Error fetching question:\", err));\n\n    // Fetch the answers for this question\n    axios.get(`http://localhost:5001/api/answers/${questionId}`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then((res) => setAnswers(res.data))\n      .catch((err) => console.error(\"Error fetching answers:\", err));\n  }, [questionId, token]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!newAnswer.trim()) return;\n\n    // Post the new answer\n    try {\n      const res = await axios.post(\n        `http://localhost:5001/api/answers`, // Ensure you have this endpoint implemented\n        { questionId, answer: newAnswer },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      // Append the new answer to the list\n      setAnswers([...answers, res.data.answer]);\n      setNewAnswer('');\n    } catch (err) {\n      console.error(\"Error submitting answer:\", err);\n      setError(\"Failed to submit answer.\");\n    }\n  };\n\n  return (\n    <div className=\"container\" style={{ marginTop: '20px' }}>\n      {question ? (\n        <div>\n          <h2>{question.title}</h2>\n          <p>{question.body}</p>\n          {question.tags && <p><strong>Tags:</strong> {question.tags.join(', ')}</p>}\n        </div>\n      ) : (\n        <p>Loading question...</p>\n      )}\n\n      <hr />\n\n      <h3>Answers</h3>\n      {answers.length === 0 ? (\n        <p>No answers yet. Be the first to answer!</p>\n      ) : (\n        answers.map((ans) => (\n          <div key={ans.id} style={{ padding: '10px', border: '1px solid #ccc', marginBottom: '10px', borderRadius: '5px', background: '#f9f9f9' }}>\n            <p>{ans.body}</p>\n            <p style={{ fontSize: '0.8em', color: '#555' }}>\n              By {ans.username} on {new Date(ans.created_at).toLocaleString()}\n            </p>\n          </div>\n        ))\n      )}\n\n      <hr />\n\n      <h3>Submit Your Answer</h3>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      <form onSubmit={handleSubmit}>\n        <textarea\n          value={newAnswer}\n          onChange={(e) => setNewAnswer(e.target.value)}\n          placeholder=\"Type your answer here...\"\n          rows=\"5\"\n          style={{ width: '100%', padding: '10px', marginBottom: '10px' }}\n        />\n        <button type=\"submit\" style={{ padding: '10px 20px' }}>Submit Answer</button>\n      </form>\n    </div>\n  );\n}\n\nexport default QuestionDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}